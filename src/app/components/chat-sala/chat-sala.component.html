

<h2>ðŸ’¬ Sala: {{ idSala }}</h2>

<ul id="mensajes">
  @for (mensaje of mensajes; track mensaje) {
    @if (mensaje.usuario === usuarioActual) {
      <li class="mensaje-propio">
        {{ mensaje.texto }}
        <div class="hora">{{ mensaje.fecha | date:'dd/MM/yyyy' }}</div>
      </li>
    } @else {
      <li class="mensaje-otro">
        <strong>{{ mensaje.usuario }}:</strong>
        {{ mensaje.texto }}
        <div class="hora">{{ mensaje.fecha | date:'dd/MM/yyyy'}}</div>
      </li>
    }
  }
</ul>

<form (ngSubmit)="enviarMensaje()">
  <input
    type="text"
    [(ngModel)]="nuevoMensaje"
    name="mensaje"
    placeholder="Escribe tu mensaje..."
    required
  />
  <button type="submit">Enviar</button>
</form>

<h3>Usuarios en la sala</h3>
<ul>
  @for (u of usuariosConectados; track u) {
    <li>{{ u }}</li>
  }
</ul>